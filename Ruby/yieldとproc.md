# yieldとproc

yieldはブロック付きのメソッドの、ブロックを呼び出すときに使用する。
```rb
def greeting 
  puts 'おはよう'
  yield
end

greeting do
  puts 'こんにちは'
end
```
- yieldがない場合は、通常と同じメソッドの動きしかせず、ブロックの中身は呼び出されない。また、yieldはブロックに引数を引き渡したり、ブロックの戻り値を受け取ったりもできる。

- ブロックはメソッドの引数でも受け取ることができる。その場合は**call**メソッドを使ってブロックを実行しなければならない。
引数の前のは**&**を付けなければならない。
```rb
def greeting(&block) 
  puts 'おはよう'
  
  unless block.nil?
    text = block.call('こんにちは')
  end
  
  puts 'こんばんは'
end

greeting do |text|
  text * 2
end
```
**ブロックを引数として受け取れる最大のメリットは、ブロックを他のメソッドに引き渡すことができることである。そして、そのブロックの
処理を様々な処理に変えることができる。**

### Procオブジェクト

Procクラスは、ブロックをオブジェクト化するためのクラス。そのオブジェクトを呼び出すには、**callメソッド**で呼び出さないといけない。
これだけ聞くとよく分からないので、具体例を示すとこうなる。
```rb
add_proc = Proc.new {|a,b| a+b }
add_proc.call(10,20) #=> 30
```

### procとラムダの違い

procオブジェクトは、ラムダというもので作成することもできる。
```rb
  ->(a,b) {a+b}
  lambda{|a,b| a+b }
```
**->(ラムダリテラル)が使われている分で、()は引数のリストで、{}が実行する処理の内容となる。**

違いは、ラムダの方が引数のチェックが厳密であり、引数に過不足があった場合は処理が実行されないという違いがある。
Proc.newの場合は、引数が足りなくてもnilとして処理される。
