### 配列や繰り返し処理について  
チェリー本参照　　
最近rubyを勉強していく中で、配列が良く分かってないとおもったので復習した。

そもそも配列とは？  
- <strong>複数のデータをまとめて格納できるオブジェクト</strong>のことであり、インデックスを指定することで要素を取り出すことのできる。  
- ただし、番号で指定しないと要素を取り出せないので不便な時もある。そのときは、ハッシュを使用。

<pre>a = [1,2,3], a[0] => 1が取り出せる, a[1] => 2が取り出せる</pre>
配列にない要素のインデックスを指定した場合はnilが返ってくる。  

配列に要素を追加する場合  
<pre>a = [1,2,3], a[3] = 10, こうすることで a = [1,2,3,10]となる。 
a << 4, これでも配列の最後に追加することができる。</pre>

一番復習したかったのが、***ブロック***についてだ。  
rubyは配列自身について「繰り返せ」という命令を送る。繰り返させるメソッドで、代表的なのがeachだ。rubyでは、for分は使わない。
<pre>numbers.each do |n|
  sum += n
end</pre>

この構文の中のブロックは***do~endまで***がブロックにあたる。  
eachメソッドで配列から一つずつ取り出し、その取り出した要素をどう処理するかはブロックに記述する。  

個人的によく理解できてなかった点  
-   ブロック内で初めて登場した変数はブロックの内部でしか使えない。下のコードではsum_valueが出力されない。  
反対にブロックの外で定義された変数は、ブロックの中でも外でも使える。
<pre>numbers.each do |n|  
  sum_value = n.even? ? n*10 : n  
  sum += sum_value  
end  
puts sum_value</pre>

- do-endの代わりに{}を使うことができる。改行を含む長いブロックの場合はdo-end,一行でコンパクトに書きたいときは{}

### ブロックを使う様々なメソッド  
- map/collect  
eachの次によく使われる。要素をブロック内で処理した後、配列にして返すメソッド。  

- select/find_all/reject
selectはブロックの戻り値が真の要素を集めた配列を返すメソッド。rejectはそれの偽バージョン。

- inject
  これは複雑だから、構文を書く。  
  <pre>numbers = [1,2,3,4]
  sum = numbers.inject(0) { |result, n| result + n }</pre>  
  初回のみinjectの引数がresultに入り、nには配列の要素が入る。その後、計算結果がresultにはいり、nには次の配列の要素がはいる。  
  というように畳み込み演算を行うメソッド。





