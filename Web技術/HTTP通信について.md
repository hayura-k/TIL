# HTTP通信について  

HTTP通信は、リクエストとレスポンスからなるよー。  
- HTTPリクエスト(GETリクエストの場合)  
一行目```➀GET ➁http://www.lifeforest.jp/webtext.jp/http/index.html ➂HTTP1.1```  
➀メソッド＝＞リクエストの種類。  
➁URI。URLといわれる場合もあり、一般的にURLと使われている。  
➂HTTPバージョン。  

これらは***HTTPリクエスト・ライン***と呼ばれる。  

メッセージヘッダには様々な情報がのっていて、Webクライアントが受け取れるデータの種類を記載してたり（画像が受け取れない場合もあるため）、
アクセスしてきたクライアントの種類が載ってたりする（PCの場合はPC用、携帯の場合は携帯用のサイトを返すのに役立つ）。  

- HTTPレスポンス  
一行目```➀HTTP/1.1　➁200 ➂OK ``` 
➀バージョン。
➁***ステータスコード***。大事なところ！！  
➂レスポンスフレーズ。  

|ステータスコード|意味|説明|
|--------------|----|---|
|200           |OK  |リクエストの正常な完了|
|302           |Found|リソースが一時的に別の場所にある|
|401           |Unauthorized|ユーザー認証に失敗|
|403           |Forbidden|アクセス権限がない|
|404           |Not Found|URLの間違|
|500           |Internal Server Error|サーバー内部のプログラムの間違い|

200番台は成功。400番台はクライアントのエラーで、500番台はWebサーバー側のエラー。

メッセージボディにはHTML形式のテキストが入る。HTMLの中に画像等が入っていた場合、またサーバに画像をとりに行く。画像の数だけリクエストするよー。  

# IPアドレスについて  

- IPアドレスとは  
IPアドレスは、4組の数字で表され、***サーバーはIPアドレスからインターネット上のリソースを探してくる。よく「住所」のようなもので例えられる。***  
ただ、私たちはIPアドレスを覚えるのはめんどくさい。なので、代わりにアドレスバーにURLを打ち込む。そのURLのなかのドメインを基にIPアドレスを引っ張てくるよ！！（これを***DNS***という。）

- TCP/IP  
ホストの住所がわかったら、そのホストにリクエストを届けないといけない。その役割を担うのが、***TCP/IP***である。ちょうど、わたしたちは手紙をポストに
出すまでしかせず、配達は郵便局の人の任せるのと同じようなものだ。  
TCP/IPはリクエストから受け取った情報を、***「パケット」という小さな単位***に分割しておくる。  

  なぜこのようなことをするのだろうか？<br>

  インターネットは様々なネットワークが協調して成り立っているため、データの送信が失敗する場合もある。そうした場合、またすべての情報を送ると大変だが、
  パケットにして送ると失敗したデータだけを送りなおせばいいだけになる。  


- グローバルIPアドレスとプライベートIPアドレス  
グローバルIPアドレスは、インターネットにつながるコンピュータそれぞれに一つずつ与えられ、被ることはない。（具体例はルーター）  
一方、プライベートIPアドレスはそのコンピューターにつながっている各端末ごとに与えられる。これは、異なるグローバルIPアドレスならば、プライベートIPが
同じになることはある。


- ポート番号  
DNSによってIPアドレスがわかるわけだが、これでつながるわけではない。受信したデータがどのようかものかわかるプロトコルがわからなければ、データの
復元方法がわからない。そこで、***ポートに番号を振ってデータの処理の仕方を判別する。***  

  じゃあ、URL上のどこにポート番号があるのか？<br>

  普通、ポート番号は省略されていて、よく使われるプロトコルには番号が決まっている。HTTP通信は80のポート番号だ。  


>この流れをまとめると  
1.URL  
2.DNSによって、IPアドレスを発見  
3.TCP/IPによってデータがパケットに分割されて送信される  
4.サーバがデータを受け取る  
5.ポート番号からデータの復元方法がわかり、復元。  
6.そのデータを基に処理したものをクライアントに返す。 
>大事なんで覚えよう！！（自分への戒めも込めて。）  

# メソッド(GET,POST)  
- GETメソッドはデータを送るときにURLの後ろに?をつけてパラメーターを追記しておくる。個人情報や決済情報などは、重要なためこの方法では送られない。
この方法は復元しやすいため、ブックマークしておくときとかはこの方法でデータを送る。  

- POSTメソッドは  
POSTメソッドは、メッセージボディにデータの内容を保存して送るため外から見てもわかることはなく、***個人情報などの重要な情報を送るときに使われる。***
また、パラメーターの数が多いときもこのメソッドで送られる。
